<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO On-Page & Technical -->
    <title>e-PATROLL - Program Patroli Elektronik Repositori</title>
    <meta name="description" content="Cek status aktivasi akun GitHub Anda sesuai Peraturan Pemerintah Fiktif e-PATROLL. Hindari pembekuan akun dan penghapusan repositori terlantar. Program dari KOMINFO-GIT.">
    <meta name="keywords" content="e-patroll, github, kominfo-git, razia commit, suaka kode, cek akun github, repo terlantar, produktivitas digital, developer indonesia, satire">
    <meta name="author" content="KOMINFO-GIT (Tim Teknis e-PATROLL)">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://e-patroll.netlify.app/">
    <meta property="og:title" content="e-PATROLL - Waspada Akun GitHub Anda Dibekukan!">
    <meta property="og:description" content="Program Penertiban Aset Digital. Cek apakah akun GitHub Anda terancam dihapus karena tidak aktif.">
    <meta property="og:image" content="https://upload.wikimedia.org/wikipedia/commons/thumb/9/90/National_emblem_of_Indonesia_Garuda_Pancasila.svg/1024px-National_emblem_of_Indonesia_Garuda_Pancasila.svg.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://e-patroll.netlify.app/">
    <meta property="twitter:title" content="e-PATROLL - Waspada Akun GitHub Anda Dibekukan!">
    <meta property="twitter:description" content="Program Penertiban Aset Digital. Cek apakah akun GitHub Anda terancam dihapus karena tidak aktif.">
    <meta property="twitter:image" content="https://upload.wikimedia.org/wikipedia/commons/thumb/9/90/National_emblem_of_Indonesia_Garuda_Pancasila.svg/1024px-National_emblem_of_Indonesia_Garuda_Pancasila.svg.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;700&family=Fira+Mono:wght@400&family=Plus+Jakarta+Sans:wght@700;800&display=swap');
        
        body {
            font-family: 'DM Sans', sans-serif;
        }
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Plus Jakarta Sans', sans-serif;
        }
        .font-mono, code, input, textarea {
            font-family: 'Fira Mono', monospace;
        }
        button {
            font-family: 'Plus Jakarta Sans', sans-serif;
            font-weight: 700;
        }
        .fade-enter-active, .fade-leave-active {
            transition: opacity 0.5s;
        }
        .fade-enter, .fade-leave-to {
            opacity: 0;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">
    <div class="container mx-auto p-4 md:p-8 max-w-4xl">
        
        <header class="text-center mb-8">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/90/National_emblem_of_Indonesia_Garuda_Pancasila.svg/1024px-National_emblem_of_Indonesia_Garuda_Pancasila.svg.png" alt="Logo Garuda Pancasila" class="w-16 h-16 mx-auto mb-4">
            <h1 class="text-2xl md:text-4xl font-bold text-gray-900">PENGUMUMAN RESMI</h1>
            <p class="text-lg md:text-xl text-gray-600">NOMOR: 01/KOMINFO-GIT/VII/2025</p>
            <p class="font-bold text-red-600 mt-2">PROGRAM PATROLI ELEKTRONIK REPOSITORI (e-PATROLL)</p>
        </header>

        <main class="bg-white p-6 md:p-8 rounded-lg shadow-lg">
            <h2 class="text-xl md:text-2xl font-bold mb-4 text-center">TENTANG PENERTIBAN ASET DIGITAL DAN OPTIMALISASI REPOSITORI KODE TERLANTAR</h2>
            
            <section aria-labelledby="dasar-hukum" class="mb-6 text-sm text-justify space-y-2">
                <h3 id="dasar-hukum" class="sr-only">Dasar Hukum</h3>
                <p><span class="font-bold">Menimbang:</span> bahwa dalam rangka menjaga kedaulatan digital bangsa dan meningkatkan produktivitas kode nasional, perlu dilakukan penertiban terhadap aset digital berupa repositori kode yang tidak aktif dan ditelantarkan oleh pemiliknya.</p>
                <p><span class="font-bold">Mengingat:</span> bahwa repositori yang tidak terurus berpotensi disalahgunakan untuk tindak pidana per-script-kiddie-an, menjadi celah keamanan siber, dan menurunkan citra ekosistem open-source Indonesia di mata dunia.</p>
                <p><span class="font-bold">Memutuskan:</span></p>
            </section>

            <div class="bg-red-50 border-l-4 border-red-500 text-red-800 p-4 rounded-md mb-8" role="alert">
                <p class="font-bold">Akun GitHub yang terdeteksi tidak memiliki aktivitas <code class="font-mono bg-red-100 px-1 rounded">commit</code> selama 90 (sembilan puluh) hari kalender berturut-turut akan DIBEKUKAN SEMENTARA dan seluruh repositorinya akan DIHAPUS PERMANEN jika tidak ada aktivasi ulang dalam 30 hari berikutnya.</p>
            </div>

            <div x-data="checkerApp()">
                <fieldset class="bg-gray-50 p-6 rounded-lg shadow-sm border border-gray-200">
                    <legend class="text-lg font-bold mb-4 text-center px-4">Formulir Pengecekan Status Keaktifan Warga Digital</legend>
                    <div class="flex flex-col gap-2">
                        <textarea x-model="usernames" placeholder="Masukkan satu atau lebih username GitHub, pisahkan dengan koma..." class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono" rows="3" :disabled="showCheckerPopup"></textarea>
                        <button @click="checkAccounts" 
                                class="bg-blue-600 text-white font-bold py-3 px-6 rounded-md hover:bg-blue-700 transition-colors duration-300 flex items-center justify-center w-full sm:w-auto disabled:bg-gray-400"
                                :disabled="showCheckerPopup">
                            <span>Laksanakan Pengecekan</span>
                        </button>
                    </div>
                </fieldset>
                
                <div x-show="error" x-transition class="mt-4 p-4 rounded-md bg-red-100 border-l-4 border-red-500 text-red-800">
                    <p><span class="font-bold">KESALAHAN: </span><span x-text="error"></span></p>
                </div>

                <!-- Checker Bureaucracy Popup -->
                <div x-show="showCheckerPopup" x-transition:enter="fade-enter-active" x-transition:leave="fade-leave-active" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50 p-4" style="display: none;">
                    <div class="bg-white rounded-lg shadow-xl p-8 w-full max-w-md">
                        <h3 class="text-lg font-bold mb-2 text-gray-800 text-center">MEMPROSES PENGAJUAN</h3>
                        <p class="text-sm text-gray-600 text-center mb-6">
                            <span x-text="`Sedang Memproses: ${processingUsername} (${processingCount})`"></span>
                        </p>
                        <div class="space-y-1">
                            <template x-for="(step, index) in checkerSteps" :key="index">
                                <div class="flex">
                                    <div class="flex flex-col items-center mr-4">
                                        <div class="w-5 h-5 rounded-full flex items-center justify-center transition-all duration-300" :class="{
                                            'bg-blue-600 ring-4 ring-blue-200': index === currentCheckerStep,
                                            'bg-green-500': index < currentCheckerStep,
                                            'bg-gray-300': index > currentCheckerStep
                                        }">
                                            <svg x-show="index < currentCheckerStep" class="w-3 h-3 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
                                        </div>
                                        <div x-show="index < checkerSteps.length - 1" class="w-px h-10 transition-colors duration-300" :class="{
                                            'bg-green-500': index < currentCheckerStep,
                                            'bg-gray-300': index >= currentCheckerStep
                                        }"></div>
                                    </div>
                                    <div class="pt-0 -mt-1">
                                        <p class="font-medium transition-colors duration-300" :class="{
                                            'text-blue-600 font-bold': index === currentCheckerStep,
                                            'text-gray-800': index < currentCheckerStep,
                                            'text-gray-500': index > currentCheckerStep
                                        }" x-text="step"></p>
                                    </div>
                                </div>
                            </template>
                        </div>
                        <p class="text-xs text-gray-500 mt-6 text-center">Harap tunggu, proses ini sesuai dengan prosedur standar operasional yang berlaku.</p>
                    </div>
                </div>

                <div id="results-container" class="mt-4 space-y-3">
                    <template x-for="result in results" :key="result.username">
                        <div x-show="results.length > 0" x-transition:enter="fade-enter-active" x-transition:leave="fade-leave-active" class="p-4 rounded-md border-l-4" :class="{
                            'bg-green-100 border-green-500 text-green-800': result.color === 'green',
                            'bg-yellow-100 border-yellow-500 text-yellow-800': result.color === 'orange',
                            'bg-red-100 border-red-500 text-red-800': result.color === 'red',
                            'bg-gray-100 border-gray-500 text-gray-800': result.color === 'gray'
                        }">
                            <p><code class="font-mono font-bold" x-text="result.username"></code> - <span class="font-bold" x-text="result.status + ': '"></span><span x-text="result.message"></span></p>
                            <div x-show="result.activities && result.activities.length > 0" class="mt-2 pt-2 border-t border-opacity-50" :class="{
                                'border-green-400': result.color === 'green',
                                'border-yellow-400': result.color === 'orange',
                                'border-red-400': result.color === 'red',
                            }">
                                <p class="text-xs font-bold mb-1">Aktivitas Terakhir:</p>
                                <ul class="text-xs list-disc list-inside pl-2 space-y-1">
                                    <template x-for="activity in result.activities" :key="activity">
                                        <li x-html="activity"></li>
                                    </template>
                                </ul>
                            </div>
                            <div class="mt-3 text-right">
                                <a :href="'surat.html?user=' + result.username + '&status=' + result.status + '&timeAgo=' + result.timeAgo"
                                   target="_blank"
                                   x-show="result.color === 'orange' || result.color === 'red'"
                                   class="text-xs bg-gray-600 text-white py-1 px-3 rounded-md hover:bg-gray-700 transition-colors">
                                    Terbitkan Surat Peringatan
                                </a>
                            </div>
                        </div>
                    </template>
                </div>

                <div x-show="results.length > 0" x-transition class="mt-6 pt-4 border-t border-gray-300 text-center">
                    <h4 class="font-bold text-gray-700 mb-3">Sosialisasikan Hasil Patroli Ini:</h4>
                    <div class="flex justify-center items-center gap-4">
                        <a :href="shareLink('twitter')" target="_blank" title="Bagikan ke X / Twitter" class="flex items-center justify-center bg-gray-800 text-white w-12 h-12 rounded-full hover:bg-gray-900 transition-colors">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.25 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></svg>
                            <span class="sr-only">X / Twitter</span>
                        </a>
                        <a :href="shareLink('facebook')" target="_blank" title="Bagikan ke Facebook" class="flex items-center justify-center bg-blue-800 text-white w-12 h-12 rounded-full hover:bg-blue-900 transition-colors">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd"></path></svg>
                            <span class="sr-only">Facebook</span>
                        </a>
                        <a :href="shareLink('linkedin')" target="_blank" title="Bagikan ke LinkedIn" class="flex items-center justify-center bg-blue-600 text-white w-12 h-12 rounded-full hover:bg-blue-700 transition-colors">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"></path></svg>
                            <span class="sr-only">LinkedIn</span>
                        </a>
                    </div>
                </div>

            </div>

            <!-- Dashboard Statistik Nasional -->
            <section aria-labelledby="dashboard-title" class="mt-10 bg-gray-800 text-white p-6 rounded-lg shadow-lg">
                <h3 id="dashboard-title" class="text-lg font-bold mb-4 text-center text-yellow-300">DATA PRODUKTIVITAS DIGITAL NASIONAL (LIVE)</h3>
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-6 text-center">
                    <div>
                        <p class="text-sm text-gray-400">Tingkat Produktivitas Commit</p>
                        <p class="text-3xl font-bold text-green-400"><span id="stat-productivity">0.0</span>%</p>
                        <p class="text-xs text-green-500" id="stat-productivity-change">Naik 0.0% dari triwulan lalu</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-400">ADTB Berhasil Diamankan</p>
                        <p class="text-3xl font-bold text-yellow-400"><span id="stat-adtb">0</span></p>
                        <p class="text-xs text-gray-400">Akun</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-400">Potensi Kerugian Negara</p>
                        <p class="text-3xl font-bold text-red-400">Rp <span id="stat-loss">0.0</span></p>
                        <p class="text-xs text-gray-400">Triliun</p>
                    </div>
                </div>
            </section>

            <!-- Lapor Warga Digital Section -->
            <section aria-labelledby="lapor-title" class="mt-10">
                <div x-data="{
                    laporUsername: '',
                    laporMessage: '',
                    laporError: null,
                    laporSubmitted: false,
                    laporSuccessMessage: '',
                    showBureaucracyPopup: false,
                    bureaucracySteps: [
                        'Menerima dan memverifikasi laporan awal...',
                        'Laporan sedang ditinjau oleh staf ahli tingkat pertama...',
                        'Membawa laporan ke Rapat Pleno tingkat Eselon II...',
                        'Menunggu disposisi dari Direktur Jenderal...',
                        'Laporan Disetujui! Sedang dalam proses pengarsipan...'
                    ],
                    currentStep: -1,
                    async submitLaporan() {
                        this.laporError = null;
                        this.laporSubmitted = false;
                        if (!this.laporUsername.trim()) {
                            this.laporError = 'Username yang dilaporkan tidak boleh kosong.';
                            return;
                        }
                        this.showBureaucracyPopup = true;
                        this.currentStep = -1;
                        for (let i = 0; i < this.bureaucracySteps.length; i++) {
                            await new Promise(resolve => setTimeout(resolve, 1800));
                            this.currentStep = i;
                        }
                        await new Promise(resolve => setTimeout(resolve, 500));
                        try {
                            const response = await fetch(`https://api.github.com/users/${this.laporUsername.trim()}/events/public`);
                            if (!response.ok) {
                                if (response.status === 404) throw new Error('Warga Digital dengan username tersebut tidak terdaftar dalam sistem kami.');
                                throw new Error('Terjadi gangguan saat menghubungi pusat data. Coba lagi nanti.');
                            }
                            const events = await response.json();
                            if (events.length > 0) {
                                const lastEventDate = new Date(events[0].created_at);
                                const diffDays = Math.floor((new Date() - lastEventDate) / (1000 * 60 * 60 * 24));
                                if (diffDays < 90) {
                                    if (this.laporMessage.trim().split(/\s+/).filter(Boolean).length < 3) {
                                        throw new Error('Warga Digital ini terdeteksi aktif. Pelaporan wajib menyertakan alasan yang jelas (minimal 3 kata).');
                                    }
                                }
                            }
                            this.laporSubmitted = true;
                            this.laporSuccessMessage = `Laporan untuk Warga Digital '${this.laporUsername.trim()}' telah diterima. Nomor referensi: LP/${Math.floor(Math.random() * 900) + 100}/DIG/VIII/2025.`;
                            this.laporUsername = '';
                            this.laporMessage = '';
                        } catch (e) {
                            this.laporError = e.message;
                        } finally {
                            this.showBureaucracyPopup = false;
                            this.currentStep = -1;
                        }
                    }
                }">
                    <fieldset class="bg-yellow-50 border border-yellow-200 p-6 md:p-8 rounded-lg shadow-lg">
                        <legend id="lapor-title" class="text-xl md:text-2xl font-bold mb-4 text-center text-yellow-800 px-4">Partisipasi Publik: Lapor Warga Digital</legend>
                        <p class="text-sm text-yellow-900 text-center mb-4">Bantu kami menjaga kedaulatan digital dengan melaporkan akun yang terindikasi tidak produktif. Setiap laporan akan ditindaklanjuti sesuai prosedur yang berlaku.</p>
                        <div class="flex flex-col gap-3">
                            <input type="text" x-model="laporUsername" placeholder="Username GitHub yang dilaporkan..." class="w-full p-3 border border-yellow-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500 font-mono" :disabled="showBureaucracyPopup">
                            <textarea x-model="laporMessage" placeholder="User terlalu rajin ngoding..." class="w-full p-3 border border-yellow-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500 font-mono" rows="3" :disabled="showBureaucracyPopup"></textarea>
                            <button @click="submitLaporan" class="bg-yellow-600 text-white font-bold py-3 px-6 rounded-md hover:bg-yellow-700 transition-colors flex items-center justify-center" :disabled="showBureaucracyPopup">
                                Kirim Laporan Secara Anonim
                            </button>
                            <div x-show="laporError" x-transition class="mt-2 p-3 rounded-md bg-red-100 text-red-800 text-center border border-red-200">
                                <p><span class="font-bold">Proses Dibatalkan:</span> <span x-text="laporError"></span></p>
                            </div>
                            <div x-show="laporSubmitted" x-transition class="mt-2 p-3 rounded-md bg-green-100 text-green-800 text-center border border-green-200">
                                <p><span x-text="laporSuccessMessage"></span></p>
                            </div>
                        </div>
                    </fieldset>

                    <!-- Bureaucracy Popup / Vertical Stepper -->
                    <div x-show="showBureaucracyPopup" x-transition:enter="fade-enter-active" x-transition:leave="fade-leave-active" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50 p-4" style="display: none;">
                        <div class="bg-white rounded-lg shadow-xl p-8 w-full max-w-md">
                            <h3 class="text-lg font-bold mb-6 text-gray-800 text-center">MEMPROSES LAPORAN ANDA</h3>
                            <div class="space-y-1">
                                <template x-for="(step, index) in bureaucracySteps" :key="index">
                                    <div class="flex">
                                        <!-- Timeline Column -->
                                        <div class="flex flex-col items-center mr-4">
                                            <div class="w-5 h-5 rounded-full flex items-center justify-center transition-all duration-300" :class="{
                                                'bg-blue-600 ring-4 ring-blue-200': index === currentStep,
                                                'bg-green-500': index < currentStep,
                                                'bg-gray-300': index > currentStep
                                            }">
                                                <svg x-show="index < currentStep" class="w-3 h-3 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
                                            </div>
                                            <div x-show="index < bureaucracySteps.length - 1" class="w-px h-10 transition-colors duration-300" :class="{
                                                'bg-green-500': index < currentStep,
                                                'bg-gray-300': index >= currentStep
                                            }"></div>
                                        </div>
                                        <!-- Text Column -->
                                        <div class="pt-0 -mt-1">
                                            <p class="font-medium transition-colors duration-300" :class="{
                                                'text-blue-600 font-bold': index === currentStep,
                                                'text-gray-800': index < currentStep,
                                                'text-gray-500': index > currentStep
                                            }" x-text="step"></p>
                                        </div>
                                    </div>
                                </template>
                            </div>
                            <p class="text-xs text-gray-500 mt-6 text-center">Harap tunggu, proses ini sesuai dengan prosedur standar operasional yang berlaku.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- FAQ Section -->
            <section aria-labelledby="faq-title" class="mt-10">
                <div class="bg-white p-6 md:p-8 rounded-lg shadow-lg">
                    <h3 id="faq-title" class="text-xl md:text-2xl font-bold mb-6 text-center text-gray-900">Tanya Jawab Umum (TJU)</h3>
                    <div class="space-y-2" x-data="{ openFaq: null }">
                        <div class="border-b border-gray-200 py-3">
                            <button @click="openFaq = openFaq === 1 ? null : 1" class="w-full flex justify-between items-center text-left">
                                <h4 class="font-bold text-gray-800 pr-2">Apakah program e-PATROLL ini nyata dan mengikat secara hukum?</h4>
                                <svg :class="{'rotate-180': openFaq === 1}" class="w-5 h-5 text-gray-500 transform transition-transform duration-300 flex-shrink-0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
                            </button>
                            <div x-show="openFaq === 1" x-collapse class="mt-2">
                                <p class="text-sm text-gray-600 mt-1 text-justify">Program e-PATROLL beroperasi berdasarkan kerangka Peraturan Pemerintah Fiktif (PPF) yang berlaku di ranah digital. Kepatuhan terhadap peraturan ini merupakan wujud tanggung jawab setiap warga digital. Konsekuensi dari ketidakpatuhan telah dijabarkan secara eksplisit dalam pengumuman resmi.</p>
                            </div>
                        </div>
                        <div class="border-b border-gray-200 py-3">
                            <button @click="openFaq = openFaq === 2 ? null : 2" class="w-full flex justify-between items-center text-left">
                                <h4 class="font-bold text-gray-800 pr-2">Saya sedang sibuk dan tidak sempat melakukan `commit`, apakah ada keringanan?</h4>
                                <svg :class="{'rotate-180': openFaq === 2}" class="w-5 h-5 text-gray-500 transform transition-transform duration-300 flex-shrink-0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
                            </button>
                            <div x-show="openFaq === 2" x-collapse class="mt-2">
                                <p class="text-sm text-gray-600 mt-1 text-justify">Produktivitas digital adalah pilar kedaulatan bangsa. Dispensasi hanya dapat dipertimbangkan melalui pengajuan permohonan resmi kepada Direktorat Jenderal Repositori Nasional (DITJEN REPNAS) dengan melampirkan bukti-bukti administratif yang dapat dipertanggungjawabkan.</p>
                            </div>
                        </div>
                        <div class="border-b border-gray-200 py-3">
                            <button @click="openFaq = openFaq === 3 ? null : 3" class="w-full flex justify-between items-center text-left">
                                <h4 class="font-bold text-gray-800 pr-2">Apa definisi dari 'Aset Digital Tak Bertuan' (ADTB)?</h4>
                                <svg :class="{'rotate-180': openFaq === 3}" class="w-5 h-5 text-gray-500 transform transition-transform duration-300 flex-shrink-0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
                            </button>
                            <div x-show="openFaq === 3" x-collapse class="mt-2">
                                <p class="text-sm text-gray-600 mt-1 text-justify">'Aset Digital Tak Bertuan' (ADTB) adalah klasifikasi yuridis yang disematkan pada akun digital yang tidak menunjukkan aktivitas signifikan dalam periode waktu yang telah ditetapkan, sehingga kepemilikannya dianggap terlantar dan pengelolaannya diambil alih oleh negara demi kepentingan nasional yang lebih besar.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

        </main>

        <footer class="text-center mt-8 text-sm text-gray-500">
            <p>&copy; 2025 - Tim Teknis e-PATROLL</p>
            <p>Kementerian Komunikasi dan Informatika Bidang Git (KOMINFO-GIT)</p>
            <p class="mt-4 text-xs">Built with ❤️ by gemini-cli</p>
        </footer>

    </div>

    <script>
        function checkerApp() {
            return {
                // State for the main checker
                usernames: '',
                results: [],
                error: null,
                showCheckerPopup: false,
                checkerSteps: [
                    'Mengajukan permintaan ke Pusat Data Nasional...',
                    'Menyambungkan ke Basis Data Repositori Terpadu (BDRT)...',
                    'Menarik data histori aktivitas publik...',
                    'Menganalisis Metrik Produktivitas Digital (MPD)...',
                    'Menyusun dan menerbitkan hasil evaluasi...'
                ],
                currentCheckerStep: -1,
                processingUsername: '',
                processingCount: '',

                // Main checker logic
                async checkAccounts() {
                    this.results = [];
                    this.error = null;
                    if (!this.usernames.trim()) {
                        this.error = 'Kolom isian tidak boleh kosong. Harap masukkan minimal satu username GitHub.';
                        return;
                    }

                    const usernameArray = this.usernames.split(',').map(u => u.trim()).filter(u => u);
                    this.showCheckerPopup = true;

                    for (let i = 0; i < usernameArray.length; i++) {
                        const username = usernameArray[i];
                        this.processingUsername = username;
                        this.processingCount = `${i + 1} dari ${usernameArray.length}`;
                        this.currentCheckerStep = -1;

                        // Simulate stepper
                        for (let j = 0; j < this.checkerSteps.length; j++) {
                            await new Promise(resolve => setTimeout(resolve, 1800));
                            this.currentCheckerStep = j;
                        }
                        
                        // Actual API call
                        try {
                            const response = await fetch(`https://api.github.com/users/${username}/events/public`);
                            if (!response.ok) {
                                if (response.status === 404) throw new Error('User tidak ditemukan.');
                                throw new Error(`API Error: ${response.statusText}`);
                            }
                            
                            const events = await response.json();
                            if (events.length === 0) {
                                this.results.push({
                                    username: username,
                                    status: 'PERHATIAN',
                                    message: 'Akun ini tidak menunjukkan tanda-tanda kehidupan digital dan dengan ini ditetapkan sebagai Aset Digital Tak Bertuan (ADTB). Aset akan segera dilikuidasi sesuai peraturan yang berlaku.',
                                    color: 'red',
                                    activities: [],
                                    timeAgo: 'N/A'
                                });
                                continue; // continue to next username
                            }

                            const lastEventDate = new Date(events[0].created_at);
                            const timeAgo = this.formatTimeAgo(lastEventDate);
                            const diffDays = Math.floor((new Date() - lastEventDate) / (1000 * 60 * 60 * 24));
                            
                            const recentActivities = events.slice(0, 2).map(e => this.formatEventType(e));

                            if (diffDays >= 90) {
                                this.results.push({
                                    username: username,
                                    status: 'BAHAYA',
                                    message: `Aktif ${timeAgo}. Akun masuk dalam daftar pengawasan tinggi!`,
                                    color: 'red',
                                    activities: recentActivities,
                                    timeAgo: timeAgo
                                });
                            } else if (diffDays >= 30) {
                                this.results.push({
                                    username: username,
                                    status: 'PERINGATAN',
                                    message: `Aktif ${timeAgo}. Segera lakukan commit untuk menghindari pembekuan.`,
                                    color: 'orange',
                                    activities: recentActivities,
                                    timeAgo: timeAgo
                                });
                            } else {
                                this.results.push({
                                    username: username,
                                    status: 'AMAN',
                                    message: `Aktif ${timeAgo}.`,
                                    color: 'green',
                                    activities: recentActivities,
                                    timeAgo: timeAgo
                                });
                            }

                        } catch (e) {
                            this.results.push({
                                username: username,
                                status: 'TIDAK DITEMUKAN / ERROR',
                                message: `Gagal memeriksa. Pastikan username benar. (${e.message})`,
                                color: 'gray',
                                activities: [],
                                timeAgo: 'N/A'
                            });
                        }
                    }
                    
                    this.showCheckerPopup = false;
                    this.currentCheckerStep = -1;
                    this.processingUsername = '';
                    this.processingCount = '';
                },

                // Helper functions
                shareLink(platform) {
                    const url = encodeURIComponent('https://e-patroll.netlify.app/');
                    const text = encodeURIComponent('Akun GitHub saya di-patroli! Cek status akunmu di e-PATROLL sebelum dibekukan negara! 😱 #ePATROLL #RaziaCommit');
                    const title = encodeURIComponent('e-PATROLL - Waspada Akun GitHub Anda Dibekukan!');
                    const summary = encodeURIComponent('Pemerintah meluncurkan program e-PATROLL untuk menertibkan aset digital. Akun GitHub yang tidak aktif selama 90 hari akan dibekukan. Cek status akun Anda di sini.');

                    switch (platform) {
                        case 'twitter':
                            return `https://twitter.com/intent/tweet?url=${url}&text=${text}`;
                        case 'facebook':
                            return `https://www.facebook.com/sharer/sharer.php?u=${url}`;
                        case 'linkedin':
                            return `https://www.linkedin.com/shareArticle?mini=true&url=${url}&title=${title}&summary=${summary}`;
                    }
                },

                formatTimeAgo(date) {
                    const now = new Date();
                    const seconds = Math.round((now - date) / 1000);
                    const minutes = Math.round(seconds / 60);
                    const hours = Math.round(minutes / 60);
                    const days = Math.round(hours / 24);

                    if (seconds < 60) return `beberapa detik yang lalu`;
                    if (minutes < 60) return `${minutes} menit yang lalu`;
                    if (hours < 24) return `${hours} jam yang lalu`;
                    return `${days} hari yang lalu`;
                },

                formatEventType(event) {
                    const repoName = `<code class='font-mono bg-gray-200 px-1 rounded'>${event.repo.name}</code>`;
                    switch (event.type) {
                        case 'PushEvent':
                            return `Mendorong (push) commit ke ${repoName}`;
                        case 'WatchEvent':
                            return `Memberi bintang (star) pada ${repoName}`;
                        case 'ForkEvent':
                            return `Mem-fork repositori ${repoName}`;
                        case 'CreateEvent':
                            return `Membuat ${event.payload.ref_type} baru di ${repoName}`;
                        case 'PublicEvent':
                            return `Membuat ${repoName} menjadi publik`;
                        case 'PullRequestEvent':
                            return `Membuka Pull Request di ${repoName}`;
                        case 'DeleteEvent':
                            return `Menghapus ${event.payload.ref_type} dari ${repoName}`;
                        default:
                            return `Aktivitas tipe '${event.type}' di ${repoName}`;
                    }
                }
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            // Dashboard Statistik Nasional
            const productivity = 75 + Math.random() * 5;
            const productivityChange = 1.5 + Math.random();
            const adtb = 1300 + Math.floor(Math.random() * 100);
            const loss = 1.1 + Math.random() * 0.5;

            document.getElementById('stat-productivity').textContent = productivity.toFixed(1);
            document.getElementById('stat-productivity-change').textContent = `Naik ${productivityChange.toFixed(1)}% dari triwulan lalu`;
            document.getElementById('stat-adtb').textContent = adtb.toLocaleString('id-ID');
            document.getElementById('stat-loss').textContent = loss.toFixed(1);
        });
    </script>
</body>
</html>
